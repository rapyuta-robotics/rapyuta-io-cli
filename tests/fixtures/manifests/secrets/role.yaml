apiVersion: "api.rapyuta.io/v2"
kind: "Role"
metadata:
  name: "secret-viewer"
  labels:
    persona: developer
spec:
  description: "Role to view secrets with name test-secret.*"
  rules:

  - resource: "secret"
    instances:
    - '^test-secret.*'
    actions:
    - get
    - create

  # Read actions to the Secrets.
  - resource: "secret"
    actions:
    - list
---
apiVersion: "api.rapyuta.io/v2"
kind: "Role"
metadata:
  name: "secret-creator"
  labels:
    persona: developer
spec:
  description: "Role to create secrets with name user-secret.*"
  rules:

  - resource: "secret"
    instances:
    - '^user-secret.*'
    actions:
    - create
    - get

  - resource: "secret"
    actions:
    - list
---
apiVersion: "api.rapyuta.io/v2"
kind: "Role"
metadata:
  name: "secret-manager"
  labels:
    persona: admin
spec:
  description: "Role to fully manage secrets with name managed-secret.*"
  rules:

  - resource: "secret"
    instances:
    - '^managed-secret.*'
    actions:
    - create
    - get
    - update
    - delete

  - resource: "secret"
    actions:
    - list
---
apiVersion: "api.rapyuta.io/v2"
kind: "Role"
metadata:
  name: "secret-readonly"
  labels:
    persona: viewer
spec:
  description: "Role to only view all docker secrets"
  rules:

  - resource: "secret"
    instances:
    - ".*docker.*"
    actions:
    - get

  - resource: "secret"
    actions:
    - list
---
apiVersion: "api.rapyuta.io/v2"
kind: "Role"
metadata:
  name: "secret-deleter"
  labels:
    persona: cleanup
spec:
  description: "Role to delete temp secrets only"
  rules:

  - resource: "secret"
    instances:
    - '^temp-secret.*'
    actions:
    - delete
    - get

  - resource: "secret"
    actions:
    - list
